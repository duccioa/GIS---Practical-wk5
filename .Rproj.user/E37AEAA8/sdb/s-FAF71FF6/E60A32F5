{
    "contents" : "library(maptools)\nlibrary(rgdal)\nlibrary(rgeos)\nlibrary(ggmap)\nlibrary(sp)\nlibrary(spatstat)#spatial analysis tools\nlibrary(GISTools)\n\n#add alpha to colours\nadd.alpha <- function(col, alpha=1){\n    if(missing(col))\n        stop(\"Please provide a vector of colours.\")\n    apply(sapply(col, col2rgb)/255, 2, \n          function(x) \n              rgb(x[1], x[2], x[3], alpha=alpha))  \n}\n\n\n\nblueplaques <- readOGR(\"./Blue_plaques\", \"london_blueplaques\")\nblueplaques <- spTransform(blueplaques, CRS(\"+init=epsg:27700\"))\nboroughs <- readOGR(\"./Boroughs\", \"england_lad_2011Polygon\")\nboroughs <- spTransform(boroughs, CRS(\"+init=epsg:27700\"))\n\nplot(boroughs)\npoints(blueplaques, pch = 20, lwd = 3, col = add.alpha(\"blue\", 0.2))\n\nblueplaques <- remove.duplicates(blueplaques)\n#now just select the points inside London\nbp_sub <- blueplaques[boroughs,]\n\nplot(boroughs)\npoints(bp_sub, pch = 20, lwd = 3, col = add.alpha(\"blue\", 0.2))\n\nHarrow <- boroughs[boroughs@data$name == \"Harrow\",]\nbp_harrow <- bp_sub[Harrow,]\nplot(Harrow)\npoints(bp_harrow, pch = 20, lwd = 3, col = add.alpha(\"blue\", 0.5))\n#Spatial analysis with spatstat\n#Needs its own objects called ppp\nwindow <- as.owin(Harrow)\nbp.ppp <- ppp(x = bp_harrow@coords[,1], y = bp_harrow@coords[,2], window = window)\nplot(bp.ppp, pch = 20, cex = 2, col = add.alpha(\"blue\", 0.4), main=\"Blue Plaques Harrow\")\n\n#plot Kernel Density Estimation\nplot(density(bp.ppp, sigma = 500), main = \"Kernel Density Estimation\")\n#QUADRAT ANALYSIS\nplot(bp.ppp, pch = 20, cex = 1,  main=\"Blue Plaques Harrow\")\nplot(quadratcount(bp.ppp, nx =6, ny = 6), col = \"red\", add = T)\n",
    "created" : 1447862535510.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "2569247911",
    "id" : "E60A32F5",
    "lastKnownWriteTime" : 1447861872,
    "path" : "~/CLOUD/C07_UCL_SmartCities/GIS/wk6/wk6_practice.R",
    "project_path" : null,
    "properties" : {
    },
    "relative_order" : 3,
    "source_on_save" : false,
    "type" : "r_source"
}